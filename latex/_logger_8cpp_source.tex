\doxysection{Logger.\+cpp}
\hypertarget{_logger_8cpp_source}{}\label{_logger_8cpp_source}\index{analizaEnergetyczna/Logger.cpp@{analizaEnergetyczna/Logger.cpp}}
\mbox{\hyperlink{_logger_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_logger_8h}{Logger.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <iomanip>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <ctime>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <cstdio>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <sstream>}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00012\ \mbox{\hyperlink{class_logger}{Logger}}\ \mbox{\hyperlink{_logger_8cpp_a58509006ed5b9de0d17bbba8ab8b633f}{logger}}(\textcolor{stringliteral}{"{}log"{}});}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00016\ \mbox{\hyperlink{class_logger}{Logger}}\ \mbox{\hyperlink{_logger_8cpp_a9edb8974fc227a047d49dd7177135ef3}{loggerError}}(\textcolor{stringliteral}{"{}log\_error"{}});}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00020\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_logger_8cpp_ab9c78cb2529d0d6b0ec8bf55345f984f}{loggerErrorCount}}\ =\ 0;}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00025\ \mbox{\hyperlink{class_logger_a4f2ee02db1d03a83b6b9b43808e09f15}{Logger::Logger}}(\textcolor{keyword}{const}\ std::string\&\ filename)\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{auto}\ t\ =\ std::time(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{00027\ \ \ \ \ std::tm\ tm;}
\DoxyCodeLine{00028\ \ \ \ \ localtime\_s(\&tm,\ \&t);}
\DoxyCodeLine{00029\ \ \ \ \ std::ostringstream\ oss;}
\DoxyCodeLine{00030\ \ \ \ \ oss\ <<\ filename\ <<\ \textcolor{stringliteral}{"{}\_"{}}\ <<\ std::put\_time(\&tm,\ \textcolor{stringliteral}{"{}\%d\%m\%Y\_\%H\%M\%S"{}})\ <<\ \textcolor{stringliteral}{"{}.txt"{}};}
\DoxyCodeLine{00031\ \ \ \ \ std::string\ datedFilename\ =\ oss.str();}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordflow}{if}\ (std::remove(datedFilename.c\_str())\ !=\ 0)\ \{}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Plik\ nie\ istnieje\ lub\ nie\ mo¿na\ go\ usun¹æ.}}
\DoxyCodeLine{00035\ \ \ \ \ \}}
\DoxyCodeLine{00036\ \ \ \ \ logFile.open(datedFilename,\ std::ios::out\ |\ std::ios::app);}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordflow}{if}\ (!logFile.is\_open())\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Nie\ mo¿na\ otworzyæ pliku\ logu"{}});}
\DoxyCodeLine{00039\ \ \ \ \ \}}
\DoxyCodeLine{00040\ \}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00044\ \mbox{\hyperlink{class_logger_acb668a9e186a25fbaad2e4af6d1ed00a}{Logger::\string~Logger}}()\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordflow}{if}\ (logFile.is\_open())\ \{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ logFile.close();}
\DoxyCodeLine{00047\ \ \ \ \ \}}
\DoxyCodeLine{00048\ \}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00052\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_logger_af5bd3aa615eb67a5a49c02d8040812db}{Logger::log}}(\textcolor{keyword}{const}\ std::string\&\ message)\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordflow}{if}\ (logFile.is\_open())\ \{}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ t\ =\ std::time(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ std::tm\ tm;}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ localtime\_s(\&tm,\ \&t);}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ logFile\ <<\ std::put\_time(\&tm,\ \textcolor{stringliteral}{"{}\%d.\%m.\%Y\ \%H:\%M:\%S"{}})\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ message\ <<\ std::endl;}
\DoxyCodeLine{00058\ \ \ \ \ \}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{this}\ ==\ \&\mbox{\hyperlink{_logger_8cpp_a9edb8974fc227a047d49dd7177135ef3}{loggerError}})\ \{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{_logger_8h_ab9c78cb2529d0d6b0ec8bf55345f984f}{loggerErrorCount}};}
\DoxyCodeLine{00062\ \ \ \ \ \}}
\DoxyCodeLine{00063\ \}}

\end{DoxyCode}
